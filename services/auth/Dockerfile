# Используем официальный образ Golang с нужной версией
FROM golang:1.21.3

# Создаем директорию приложения в контейнере
WORKDIR /go/src/app

# Копируем исходный код приложения в контейнер
COPY . .

# Зависимости могут быть управляемы с помощью go mod, включая go.sum и go.mod
# RUN go mod download

# Собираем приложение
RUN go build -o auth

# Определяем порт, который будет использоваться приложением
EXPOSE 8080

# Команда для запуска приложения
CMD ["./auth"]
